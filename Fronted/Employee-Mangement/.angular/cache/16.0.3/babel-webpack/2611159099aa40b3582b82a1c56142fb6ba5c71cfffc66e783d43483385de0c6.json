{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nclass DarkModeService {\n  constructor() {\n    this.darkModeSubject = new BehaviorSubject(this.getDarkModeFromStorage());\n    this.darkMode$ = this.darkModeSubject.asObservable();\n    this.applyDarkMode(this.darkModeSubject.value);\n  }\n  toggleDarkMode() {\n    const newMode = !this.darkModeSubject.value;\n    this.darkModeSubject.next(newMode);\n    localStorage.setItem('darkMode', JSON.stringify(newMode));\n    this.applyDarkMode(newMode);\n  }\n  isDarkMode() {\n    return this.darkModeSubject.value;\n  }\n  getDarkModeFromStorage() {\n    const stored = localStorage.getItem('darkMode');\n    if (stored !== null) {\n      return JSON.parse(stored);\n    }\n    // Check system preference\n    return window.matchMedia('(prefers-color-scheme: dark)').matches;\n  }\n  applyDarkMode(isDark) {\n    const html = document.documentElement;\n    if (isDark) {\n      html.setAttribute('data-theme', 'dark');\n    } else {\n      html.setAttribute('data-theme', 'light');\n    }\n  }\n}\nDarkModeService.ɵfac = function DarkModeService_Factory(t) {\n  return new (t || DarkModeService)();\n};\nDarkModeService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: DarkModeService,\n  factory: DarkModeService.ɵfac,\n  providedIn: 'root'\n});\nexport { DarkModeService };","map":{"version":3,"names":["BehaviorSubject","DarkModeService","constructor","darkModeSubject","getDarkModeFromStorage","darkMode$","asObservable","applyDarkMode","value","toggleDarkMode","newMode","next","localStorage","setItem","JSON","stringify","isDarkMode","stored","getItem","parse","window","matchMedia","matches","isDark","html","document","documentElement","setAttribute","factory","ɵfac","providedIn"],"sources":["C:\\nikki\\Fronted\\Employee-Mangement\\src\\app\\dark-mode.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DarkModeService {\r\n  private darkModeSubject = new BehaviorSubject<boolean>(this.getDarkModeFromStorage());\r\n  public darkMode$ = this.darkModeSubject.asObservable();\r\n\r\n  constructor() {\r\n    this.applyDarkMode(this.darkModeSubject.value);\r\n  }\r\n\r\n  toggleDarkMode(): void {\r\n    const newMode = !this.darkModeSubject.value;\r\n    this.darkModeSubject.next(newMode);\r\n    localStorage.setItem('darkMode', JSON.stringify(newMode));\r\n    this.applyDarkMode(newMode);\r\n  }\r\n\r\n  isDarkMode(): boolean {\r\n    return this.darkModeSubject.value;\r\n  }\r\n\r\n  private getDarkModeFromStorage(): boolean {\r\n    const stored = localStorage.getItem('darkMode');\r\n    if (stored !== null) {\r\n      return JSON.parse(stored);\r\n    }\r\n    // Check system preference\r\n    return window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n  }\r\n\r\n  private applyDarkMode(isDark: boolean): void {\r\n    const html = document.documentElement;\r\n    if (isDark) {\r\n      html.setAttribute('data-theme', 'dark');\r\n    } else {\r\n      html.setAttribute('data-theme', 'light');\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AACA,SAASA,eAAe,QAAoB,MAAM;;AAElD,MAGaC,eAAe;EAI1BC,YAAA;IAHQ,KAAAC,eAAe,GAAG,IAAIH,eAAe,CAAU,IAAI,CAACI,sBAAsB,EAAE,CAAC;IAC9E,KAAAC,SAAS,GAAG,IAAI,CAACF,eAAe,CAACG,YAAY,EAAE;IAGpD,IAAI,CAACC,aAAa,CAAC,IAAI,CAACJ,eAAe,CAACK,KAAK,CAAC;EAChD;EAEAC,cAAcA,CAAA;IACZ,MAAMC,OAAO,GAAG,CAAC,IAAI,CAACP,eAAe,CAACK,KAAK;IAC3C,IAAI,CAACL,eAAe,CAACQ,IAAI,CAACD,OAAO,CAAC;IAClCE,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACL,OAAO,CAAC,CAAC;IACzD,IAAI,CAACH,aAAa,CAACG,OAAO,CAAC;EAC7B;EAEAM,UAAUA,CAAA;IACR,OAAO,IAAI,CAACb,eAAe,CAACK,KAAK;EACnC;EAEQJ,sBAAsBA,CAAA;IAC5B,MAAMa,MAAM,GAAGL,YAAY,CAACM,OAAO,CAAC,UAAU,CAAC;IAC/C,IAAID,MAAM,KAAK,IAAI,EAAE;MACnB,OAAOH,IAAI,CAACK,KAAK,CAACF,MAAM,CAAC;;IAE3B;IACA,OAAOG,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO;EAClE;EAEQf,aAAaA,CAACgB,MAAe;IACnC,MAAMC,IAAI,GAAGC,QAAQ,CAACC,eAAe;IACrC,IAAIH,MAAM,EAAE;MACVC,IAAI,CAACG,YAAY,CAAC,YAAY,EAAE,MAAM,CAAC;KACxC,MAAM;MACLH,IAAI,CAACG,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC;;EAE5C;;AAnCW1B,eAAe,C;mBAAfA,eAAe;AAAA;AAAfA,eAAe,C;SAAfA,eAAe;EAAA2B,OAAA,EAAf3B,eAAe,CAAA4B,IAAA;EAAAC,UAAA,EAFd;AAAM;SAEP7B,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}